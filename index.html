<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Youth Climate Leaders Globe</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    display: flex;
    height: 100vh;
  }
  #globeViz {
    flex: 2;
    background: #000;
  }
  #infoBox {
    flex: 1;
    padding: 20px;
    background: #f9f9f9;
    overflow-y: auto;
    box-shadow: -2px 0 5px rgba(0,0,0,0.1);
  }
  #infoBox h2 {
    margin-top: 0;
    font-size: 20px;
    color: #333;
  }
  .leader-info {
    display: flex;
    align-items: flex-start;
    margin-bottom: 15px;
  }
  .leader-info img.flag {
    width: 40px;
    height: auto;
    margin-right: 10px;
    flex-shrink: 0;
  }
  .leader-text {
    line-height: 1.4;
  }
  .leader-text strong {
    font-size: 16px;
    display: block;
    margin-bottom: 4px;
  }
</style>
</head>
<body>
<div id="globeViz"></div>
<div id="infoBox">
  <h2>Click a hotspot to see information</h2>
  <p id="infoText">
    The info for each location will appear here when you click on a hotspot.
  </p>
</div>

<!-- Load Three.js and Globe.gl -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r155/three.min.js"></script>
<script src="https://unpkg.com/globe.gl"></script>

<script>
// Hotspots with text and flags
const hotspots = [
  { lat: -14.2, lng: -51.9, name: "Txai Suru√≠", text: "Defends the Amazon rainforest<br>Indigenous youth leader & COP26 speaker", flag: "https://flagcdn.com/w40/br.png" },
  { lat: 1.37, lng: 32.29, name: "Nyombi Morris", text: "Planted 47,500+ trees<br>Founder of Earth Volunteers", flag: "https://flagcdn.com/w40/ug.png" },
  { lat: 50, lng: -85, name: "Autumn Peltier", text: "Protects clean water for Indigenous communities<br>UN water-rights advocate", flag: "https://flagcdn.com/w40/ca.png" },
  { lat: -19, lng: 30, name: "Nkosilathi Nyathi", text: "Youth climate activist since age 10<br>Represents youth at global forums", flag: "https://flagcdn.com/w40/zw.png" },
  { lat: -13.8, lng: -172, name: "Brianna Fruean", text: "Pacific climate leader<br>Leads 350 Samoa & Future Rush", flag: "https://flagcdn.com/w40/ws.png" },
  { lat: 21, lng: 78, name: "Licypriya Kangujam", text: "Young climate activist<br>Challenges world leaders on pollution & climate", flag: "https://flagcdn.com/w40/in.png" },
  { lat: 1.37, lng: 32.29, name: "Vanessa Nakate", text: "Amplifies African youth voices<br>Founder of Rise Up Climate Movement", flag: "https://flagcdn.com/w40/ug.png" },
  { lat: 34.05, lng: -118.25, name: "Xiuhtezcatl Martinez", text: "Indigenous activist & hip-hop artist<br>Mobilizes youth through Earth Guardians", flag: "https://flagcdn.com/w40/us.png" },
  { lat: -8.4, lng: 115.1, name: "Melati Wijsen", text: "Fights plastic pollution in Bali<br>Co-founder of Bye Bye Plastic Bags", flag: "https://flagcdn.com/w40/id.png" },
  { lat: -8.4, lng: 115.1, name: "Isabel Wijsen", text: "Youth climate leader<br>Co-founder of Bye Bye Plastic Bags", flag: "https://flagcdn.com/w40/id.png" }
];

const infoText = document.getElementById('infoText');

// Create Globe
const myGlobe = Globe()
  .globeImageUrl('//unpkg.com/three-globe/example/img/earth-day.jpg')
  .pointsData(hotspots)
  .pointLat(d => d.lat)
  .pointLng(d => d.lng)
  .pointColor(() => 'orange')
  .pointAltitude(0.03)
  .pointRadius(0.5)
  .onPointClick(d => {
    infoText.innerHTML = `
      <div class="leader-info">
        <img class="flag" src="${d.flag}" alt="flag">
        <div class="leader-text">
          <strong>${d.name}</strong>
          ${d.text}
        </div>
      </div>
    `;
  })
  .onPointHover(d => {
    if(d) {
      // highlight hovered hotspot
      myGlobe.pointColor(point => point === d ? 'yellow' : 'orange');
    } else {
      // reset colors
      myGlobe.pointColor(() => 'orange');
    }
  })
  (document.getElementById('globeViz'));

// Slow automatic rotation
function rotateGlobe() {
  myGlobe.controls().rotateLeft(0.001);
  requestAnimationFrame(rotateGlobe);
}
rotateGlobe();
</script>
</body>
</html>
